// https://www.nowcoder.com/practice/de538edd6f7e4bc3a5689723a7435682

function statIp(ips) {
    let a = 0, b = 0, c = 0, d = 0, e = 0, error = 0, private = 0;
    for (let str of ips) {
        const [ip, mask] = str.split('~').map(item => item.split('.').map(item =>
            item !== '' ? +item : 256))
        if (ip.length !== 4 || mask.length !== 4// 错误的长度
            || ip.some(item => item > 255)// 错误的ip
            || mask.some(item => item > 255)// 错误的mask
            || !isValidMask(mask)// 错误的掩码 
        ) {
            if (ip.length === 4 && (ip[0] === 0 || ip[0] === 127)) continue; // 忽略【0.*.*.*】和【127.*.*.*】
            error++
            continue
        }

        if (ip[0] === 0 || ip[0] === 127) continue; // 忽略【0.*.*.*】和【127.*.*.*】

        if (ip[0] >= 1 && ip[0] <= 126) {
            a++
        } else if (ip[0] >= 128 && ip[0] <= 191) {
            b++
        } else if (ip[0] >= 192 && ip[0] <= 223) {
            c++
        } else if (ip[0] >= 224 && ip[0] <= 239) {
            d++
        } else if (ip[0] >= 240 && ip[0] <= 255) {
            e++
        }

        if (ip[0] === 10 || (ip[0] === 172 && ip[1] >= 16 && ip[1] <= 31) || (ip[0] === 192 && ip[1] === 168)) { // 私有
            private++
        }
    }

    function isValidMask(mask) {
        mask = mask.map((item) => {
            let str = item.toString('2'), len = 8 - str.length
            while (len--) {
                str = '0' + str
            }
            return str
        }).join('')
        return /^1+0+$/.test(mask)
    }
    return [a, b, c, d, e, error, private].join(' ')
}

console.log(statIp(
    `225.240.129.203~255.110.255.255
183.181.49.4~255.0.0.0
172.177.113.45~255.0.0.0
176.134.46.246~255.0.0.0
153.63.21.56~255.255.58.255
23.135.167.228~255.0.0.0
204.58.47.149~255.0.0.0
113.33.181.46~255.255.255.0
73.245.52.119~255.255.154.0
23.214.47.71~255.0.0.0
139.124.188.91~255.255.255.100
142.94.192.197~255.0.0.0
53.173.252.202~255.0.0.0
127.201.56.50~255.255.111.255
118.251.84.111~255.0.0.0
130.27.73.170~255.0.0.0
253.237.54.56~255.86.0.0
64.189.222.111~255.255.255.139
148.77.44.147~255.0.0.0
59.213.5.253~255.255.0.0
3.52.119.131~255.255.0.0
213.208.164.145~255.255.0.0
24.22.21.206~255.255.90.255
89.43.34.31~255.0.0.0
9.64.214.75~255.0.0.0
110.156.20.173~255.153.0.0
71.183.242.53~255.255.0.0
119.152.129.100~255.0.0.0
38.187.119.201~255.0.0.0
73.81.221.180~255.255.255.255
73.198.13.199~255.0.15.0
99.42.142.145~255.255.255.0
196.121.115.160~255.0.0.0
226.30.29.206~255.0.0.0
244.248.31.171~255.255.255.255
59.116.159.246~255.0.0.0
121.124.37.157~255.0.0.226
103.42.94.71~255.255.0.0
125.88.217.249~255.255.74.255
73.44.250.101~255.255.255.0`.split('\n')
))